(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5418],{41938:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cropping-calendar-v2",function(){return n(2815)}])},43370:function(e,r,n){"use strict";var a=n(85893),o=n(9008),t=n(47426);r.Z=function(e){var r=e.title,n=e.ogDescription,c=e.ogImageURL,l=e.ogImgAlt,i=void 0===l?"Picture":l,s=e.ogSiteName,p=void 0===s?"ACAP-".concat(t.Gt.toUpperCase()):s,u=e.ogURL,d=e.canonicalURL,f=void 0===d?"http://localhost":d;return(0,a.jsxs)(o.default,{children:[(0,a.jsx)("meta",{name:"description",content:n}),(0,a.jsx)("meta",{rel:"canonical",href:f}),(0,a.jsx)("meta",{name:"og:description",content:n}),(0,a.jsx)("meta",{property:"og:title",content:r}),(0,a.jsx)("meta",{property:"og:site_name",content:p}),(0,a.jsx)("meta",{property:"og:image",content:c}),(0,a.jsx)("meta",{property:"og:image:width",content:"600"}),(0,a.jsx)("meta",{property:"og:image:height",content:"315"}),(0,a.jsx)("meta",{property:"og:image:alt",content:i}),(0,a.jsx)("meta",{property:"og:url",content:u}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:title",content:r}),(0,a.jsx)("meta",{name:"twitter:image",content:c}),(0,a.jsx)("title",{children:r})]})}},37634:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var a=n(85893),o=n(25675),t=n(87357),c=n(15861),l=n(26660),i={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var s=function(e){var r=e.message,n=void 0===r?"Failed to load data":r,s=e.style,p=void 0===s?{}:s;return(0,a.jsxs)(t.Z,{sx:i.container,style:p,children:[(0,a.jsx)(o.default,{unoptimized:!0,src:(0,l.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:l.imageLoader,alt:"Empty data"}),(0,a.jsx)(c.Z,{variant:"subtitle1",children:n})]})}},53577:function(e,r,n){"use strict";var a=n(85893),o=n(87357),t=n(98456);r.Z=function(e){var r=e.text,n=void 0===r?"":r,c=e.size,l=void 0===c?24:c,i=e.children;return(0,a.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",height:"20vh"},children:[(0,a.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",marginTop:function(e){return e.spacing(12)},marginBottom:"32px",display:"flex",justifyContent:"center"},children:[(0,a.jsx)("span",{children:""!==n?n:"Loading..."})," \xa0",(0,a.jsx)(t.Z,{size:l})]}),i]})}},2815:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return H},default:function(){return V}});var a=n(34051),o=n.n(a),t=n(85893),c=n(67294),l=n(15861),i=n(59111),s=n(16327);var p=n(47426);function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function d(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(r){u(e,r,n[r])}))}return e}var f=n(32848);function g(e,r,n,a,o,t,c){try{var l=e[t](c),i=l.value}catch(s){return void n(s)}l.done?r(i):Promise.resolve(i).then(a,o)}function m(e){var r=(0,c.useState)([]),n=r[0],a=r[1],t=(0,c.useState)(!1),l=t[0],i=t[1],s=(0,c.useState)(""),p=s[0],u=s[1];return(0,c.useEffect)((function(){var r=function(){var r,n=(r=o().mark((function r(){var n,t,c,l,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i(!0),r.next=4,(0,f.ih)(e);case 4:n=r.sent,i(!1),u(""),a(null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[]),r.next=19;break;case 11:r.prev=11,r.t0=r.catch(0),s=null!==(l=null===r.t0||void 0===r.t0||null===(c=r.t0.response)||void 0===c?void 0:c.data)&&void 0!==l?l:r.t0.message,u(s),i(!1),a([]);case 19:case"end":return r.stop()}}),r,null,[[0,11]])})),function(){var e=this,n=arguments;return new Promise((function(a,o){var t=r.apply(e,n);function c(e){g(t,a,o,c,l,"next",e)}function l(e){g(t,a,o,c,l,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();e&&(u(""),r())}),[e]),{cropcalendar:n,loading:l,error:p}}var x=n(59390),C=n(23766),v=n(38885),b=n(45697),h=n.n(b),_=n(98396),y=n(76295),j=n(87357),w=n(66242),k=n(37634),S=n(94054),P=n(86886),A=n(47312),Z=n(18972),E=n(18360),O=n(61903),L=n(53577),T={wrapper:{marginTop:function(e){return e.spacing(8)},marginBottom:function(e){return e.spacing(12)}},autoMuni:{marginTop:function(e){return e.spacing(2)}},card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:function(e){return e.spacing(5)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5, h6":{marginBottom:function(e){return e.spacing(2)}}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCalrice_prep":{backgroundColor:"#b9febf"},"& .cropCalrice_grow":{backgroundColor:"#00c311"},"& .cropCalrice_wean":{backgroundColor:"#57ff66"},"& .cropCalrice_harv":{backgroundColor:"#00920d"},"& .cropCalrice_plant":{backgroundColor:"#88ff93"},"& .cropCalrice_sprout":{backgroundColor:"#26ff39"},"& .cropCalrice_newgen":{backgroundColor:"#00f415"},"& .cropCalcorn_prep":{backgroundColor:"#ffffe6"},"& .cropCalcorn_grow":{backgroundColor:"#ffff4d"},"& .cropCalcorn_wean":{backgroundColor:"#ffffb3"},"& .cropCalcorn_harv":{backgroundColor:"#ffff00"},"& .cropCalcorn_plant":{backgroundColor:"#ffffcc"},"& .cropCalcorn_sprout":{backgroundColor:"#ffff99"},"& .cropCalcorn_newgen":{backgroundColor:"#ffff80"},"& .cropCaleggplant_prep":{backgroundColor:"#e1bbd9"},"& .cropCaleggplant_grow":{backgroundColor:"#a84296"},"& .cropCaleggplant_harv":{backgroundColor:"#982286"},"& .cropCaleggplant_sprout":{backgroundColor:"#b862a8"},"& .cropCaleggplant_plant":{backgroundColor:"#cd8ec0"},"& .cropCalpole_sitaw_prep":{backgroundColor:"#b9febf"},"& .cropCalpole_sitaw_plant":{backgroundColor:"#88ff93"},"& .cropCalpole_sitaw_newgen":{backgroundColor:"#57ff66"},"& .cropCalpole_sitaw_sprout":{backgroundColor:"#26ff39"},"& .cropCalpole_sitaw_grow":{backgroundColor:"#00f415"},"& .cropCalpole_sitaw_harv":{backgroundColor:"#00c311"},"& .cropCalsquash_prep":{backgroundColor:"#ffe6cc"},"& .cropCalsquash_plant":{backgroundColor:"#ffcc99"},"& .cropCalsquash_newgen":{backgroundColor:"#ffb366"},"& .cropCalsquash_sprout":{backgroundColor:"#ffa64d"},"& .cropCalsquash_grow":{backgroundColor:"#ff9933"},"& .cropCalsquash_harv":{backgroundColor:"#ff8000"},"& .cropCalampalaya_prep":{backgroundColor:"#d9f2e6"},"& .cropCalampalaya_plant":{backgroundColor:"#c6ecd9"},"& .cropCalampalaya_newgen":{backgroundColor:"#b3e6cc"},"& .cropCalampalaya_sprout":{backgroundColor:"#9fdfbf"},"& .cropCalampalaya_grow":{backgroundColor:"#8cd9b3"},"& .cropCalampalaya_harv":{backgroundColor:"#79d2a6"},"& .cropCalnocolor, .cropCalblank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCalnocolor:"#f7f7ff",cropCalblank:"rgba(0, 0, 0, 0.4)",cropCalrice_prep:"#b9febf",cropCalrice_grow:"#00c311",cropCalrice_harv:"#00920d",cropCalrice_plant:"#88ff93",cropCalrice_sprout:"#26ff39",cropCalrice_newgen:"#00f415",cropCalrice_wean:"#57ff66",cropCalcorn_prep:"#ffffe6",cropCalcorn_grow:"#ffff4d",cropCalcorn_harv:"#ffff00",cropCalcorn_plant:"#ffffcc",cropCalcorn_sprout:"#ffff99",cropCalcorn_newgen:"#ffff80",cropCalcorn_wean:"#ffffb3",cropCaleggplant_prep:"#e1bbd9",cropCaleggplant_grow:"#a84296",cropCaleggplant_harv:"#982286",cropCaleggplant_sprout:"#b862a8",cropCaleggplant_plant:"#cd8ec0",cropCalpole_sitaw_prep:"#b9febf",cropCalpole_sitaw_plant:"#88ff93",cropCalpole_sitaw_newgen:"#57ff66",cropCalpole_sitaw_sprout:"#26ff39",cropCalpole_sitaw_grow:"#00f415",cropCalpole_sitaw_harv:"#00c311",cropCalsquash_prep:"#ffe6cc",cropCalsquash_plant:"#ffcc99",cropCalsquash_newgen:"#ffb366",cropCalsquash_sprout:"#ffa64d",cropCalsquash_grow:"#ff9933",cropCalsquash_harv:"#ff8000",cropCalampalaya_prep:"#d9f2e6",cropCalampalaya_plant:"#c6ecd9",cropCalampalaya_newgen:"#b3e6cc",cropCalampalaya_sprout:"#9fdfbf",cropCalampalaya_grow:"#8cd9b3",cropCalampalaya_harv:"#79d2a6"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},errorMsg:{fontSize:"12px"},infoMsg:{fontSize:"12px"}};var N=function(){return(0,t.jsxs)(P.ZP,{container:!0,sx:T.calendar,children:[(0,t.jsx)(P.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,t.jsx)(P.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,r){return(0,t.jsx)(j.Z,{className:"cal-mo-container",style:{borderRight:"1px solid rgba(0, 0, 0, 0.4)"},children:(0,t.jsx)("div",{className:"cropCalnocolor"})},"cal-mo-itm-".concat(r,"-1"))}))})]})},I={wrapper:{marginTop:function(e){return e.spacing(8)},marginBottom:function(e){return e.spacing(12)}},autoMuni:{marginTop:function(e){return e.spacing(2)}},card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:function(e){return e.spacing(5)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5, h6":{marginBottom:function(e){return e.spacing(2)}}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCal0":{backgroundColor:"#996633"},"& .cropCal1":{backgroundColor:"#CAEDFB"},"& .cropCal2":{backgroundColor:"#DAF2D0"},"& .cropCal3":{backgroundColor:"#B5E6A2"},"& .cropCal4":{backgroundColor:"#8ED973"},"& .cropCal5":{backgroundColor:"#3C7D22"},"& .cropCal6":{backgroundColor:"#104861"},"& .cropCal7":{backgroundColor:"#DC143C"},"& .cropCal8":{backgroundColor:"#4682B4"},"& .cropCal9":{backgroundColor:"#32CD32"},"& .cropCal10":{backgroundColor:"#fcf8e3"},"& .cropCal11":{backgroundColor:"#3498db"},"& .cropCal12":{backgroundColor:"#A1FF33"},"& .cropCal13":{backgroundColor:"#33FFCC"},"& .cropCal14":{backgroundColor:"#ff5733"},"& .cropCal15":{backgroundColor:"#f7ecb5"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCal0:"#996633",cropCal1:"#CAEDFB",cropCal2:"#DAF2D0",cropCal3:"#B5E6A2",cropCal4:"#8ED973",cropCal5:"#3C7D22",cropCal6:"#104861",cropCal7:"#DC143C",cropCal8:"#4682B4",cropCal9:"#32CD32",cropCal10:"#fcf8e3",cropCal11:"#3498db",cropCal12:"#A1FF33",cropCal13:"#33FFCC",cropCal14:"#ff5733",cropCal15:"#f7ecb5",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},errorMsg:{fontSize:"12px"},infoMsg:{fontSize:"12px"}};function R(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(r){R(e,r,n[r])}))}return e}function D(e){var r=e.optsprovinces,n=e.optsmunicipalities,a=e.subcalendar,o=e.processedCalendar,c=e.cropStages,i=e.cropList,s=e.sel_options,u=e.loading,d=e.onSelectItemChange,f=Object.values(c).sort((function(e,r){return e.index-r.index})),g=(0,_.Z)("(max-width:600px)");return(0,t.jsxs)(w.Z,{variant:"outlined",sx:I.card,children:[(0,t.jsxs)(P.ZP,{container:!0,maxWidth:"lg",spacing:5,alignItems:"bottom",sx:{marginBottom:"48px"},children:[(0,t.jsx)(P.ZP,{item:!0,xs:12,md:4,children:(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(l.Z,{variant:"h6",children:"Location Selector"}),(0,t.jsx)(y.Z,{disablePortal:!0,id:"province",size:"small",value:s.sel_province,disabled:0===r.length||u,options:r,renderInput:function(e){return(0,t.jsx)(O.Z,B({},e,{label:0===r.length?"Loading...":"Select a province"}))},isOptionEqualToValue:function(e,r){return e.label===r},onChange:function(e,r){return d(e,B({},r,{from:"province"}))}}),(0,t.jsx)(y.Z,{disablePortal:!0,id:"municipality",size:"small",value:s.sel_municipality,disabled:0===n.length||u,options:n,sx:I.autoMuni,renderInput:function(e){return(0,t.jsx)(O.Z,B({},e,{label:null===s.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,r){return e.label===r},getOptionDisabled:function(e){return e.disabled},onChange:function(e,r){return d(e,B({},r,{from:"municipality"}))}})]})}),(0,t.jsx)(P.ZP,{item:!0,xs:12,md:4,children:(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(l.Z,{variant:"h6",children:"Crop Type"}),(0,t.jsx)(j.Z,{sx:{maxWidth:300},children:(0,t.jsxs)(S.Z,{fullWidth:!0,children:[(0,t.jsx)(A.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,t.jsx)(E.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s.sel_crop,label:"Crop Type",onChange:function(e){d(e,{label:e.target.value,from:e.target.value})},children:[{value:"Rice",label:"Rice"},{value:"Pili",label:"Pili"},{value:"Corn",label:"Corn"},{value:"Ampalaya",label:"Ampalaya"},{value:"Pole Sitaw",label:"Pole Sitaw"},{value:"Cassava",label:"Cassava"},{value:"Coconut",label:"Coconut"},{value:"Pineapple",label:"Pineapple"},{value:"Abaca",label:"Abaca"},{value:"Cutflowers",label:"Cut-Flowers"},{value:"Livestock",label:"Livestock"},{value:"Poultry",label:"Poultry"},{value:"Fisheries",label:"Fisheries (brackish and freshwater)"},{value:"Squash",label:"Squash"}].map((function(e){return(0,t.jsx)(Z.Z,{disabled:!i.includes(e.value),value:e.value,children:e.label},e.value)}))})]})})]})})]}),u&&""===s.error?(0,t.jsx)(L.Z,{text:"Loading data..."}):""!==s.error?(0,t.jsx)(k.Z,{message:"Error loading data."}):null!==a&&void 0!==a||null===s.sel_municipality||null===s.sel_province?null!==a&&0!==o.length?(0,t.jsxs)(j.Z,{children:[(0,t.jsxs)(P.ZP,{container:!0,sx:I.calendar,children:[(0,t.jsx)(P.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem",children:(0,t.jsx)(l.Z,{variant:"subtitle1",children:(0,t.jsx)("strong",{children:"Crop Name"})})}),(0,t.jsx)(P.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,r){return(0,t.jsx)(j.Z,{className:"monthlabels",children:g?(0,t.jsx)("span",{children:e.format.substring(0,1)}):(0,t.jsx)("span",{children:e.format.substring(0,3)})},"cal-mo-".concat(r))}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{}),(0,t.jsxs)(P.ZP,{container:!0,sx:I.calendar,children:[(0,t.jsx)(P.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname",children:s.sel_crop}),(0,t.jsx)(P.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,r){var n=o[0][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",a=I.calendar.cellBorderColor[o[0][e.code][0]],c=I.calendar.cellBorderColor[o[0][e.code][1]];return(0,t.jsxs)(j.Z,{className:"cal-mo-container",style:{borderRight:""!==n?n:(null===c||void 0===c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,t.jsx)("div",{style:{backgroundColor:a||"#f7f7ff"}}),(0,t.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(r,"-1"))}))})]}),(0,t.jsxs)(P.ZP,{container:!0,sx:I.calendar,children:[(0,t.jsx)(P.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname"}),(0,t.jsx)(P.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",style:{borderTop:"1px solid black"},children:Object.values(p.re).map((function(e,r){var n=o[1][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",a=I.calendar.cellBorderColor[o[1][e.code][0]],c=I.calendar.cellBorderColor[o[1][e.code][1]];return(0,t.jsxs)(j.Z,{className:"cal-mo-container",style:{borderRight:""!==n?n:(null===c||void 0===c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,t.jsx)("div",{style:{backgroundColor:a||"#f7f7ff"}}),(0,t.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(r,"-1"))}))})]}),(0,t.jsx)(N,{})]}),(0,t.jsxs)(P.ZP,{container:!0,style:{marginTop:"32px"},children:[(0,t.jsx)(P.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,t.jsxs)(P.ZP,{item:!0,xs:10,md:9,sx:I.legend,className:"calendar-header-months",children:[(0,t.jsx)("strong",{children:"Legend"}),(0,t.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:f.map((function(e){return(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{style:{backgroundColor:I.calendar.cellBorderColor["cropCal".concat(e.index)]}}),e.label]},e.index)}))})]})]})]}):(0,t.jsx)(j.Z,{sx:I.infoMsg,children:"Please select a province and a municipality."}):(0,t.jsx)(j.Z,{sx:I.infoMsg,children:"Data for the requested resource is not yet available."})]})}D.propTypes={optsprovinces:h().array,optsmunicipalities:h().array,subcalendar:h().array,processedCalendar:h().array,cropStages:h().oneOfType([h().array,h().object]),cropList:h().array,sel_options:h().object,loading:h().bool,onSelectItemChange:h().func};var F=D,z=n(43370);function q(e,r,n,a,o,t,c){try{var l=e[t](c),i=l.value}catch(s){return void n(s)}l.done?r(i):Promise.resolve(i).then(a,o)}function U(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function M(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(r){U(e,r,n[r])}))}return e}var W={RICE:"Rice",PILI:"Pili",CORN:"Corn",AMPALAYA:"Ampalaya",POLE_SITAW:"Pole Sitaw",EGGPLANT:"Eggplant",CASSAVA:"Cassava",COCONUT:"Coconut",PINEAPPLE:"Pineapple",ABACA:"Abaca",CUT_FLOWERS:"Cut-flowers",LIVESTOCK:"Livestock",POULTRY:"Poultry",FISHERIES:"Fisheries (brackish and freshwater)",SQUASH:"Squash"},G={sel_province:null,sel_municipality:null,sel_crop:W.RICE,error:""};var H=!0,V=function(e){var r=e.media,n=(0,c.useState)([]),a=n[0],f=n[1],g=(0,c.useState)(G),b=g[0],h=g[1],_=(0,c.useState)([]),y=_[0],j=_[1],w=(0,c.useState)([]),k=w[0],S=w[1],P=(0,C.Z)(b.sel_province,a),A=m(b.sel_province),Z=A.cropcalendar,E=A.error,O=(0,v.Z)().cropList,L=(0,x.Z)(b.sel_province,b.sel_crop),T=L.cropcalendar,N=L.cropStages,I=L.loading,R=function(e,r){var n=(0,c.useState)([]),a=n[0],o=n[1];return(0,c.useEffect)((function(){if(e&&r){var n=e&&r?e.filter((function(e){return e.municipality===r})).map((function(e){return e.crop})).filter((function(e,r,n){return n.indexOf(e)===r})).map((function(e,r){return{id:r,label:e,disabled:!1}})):[];o(n)}r||o([])}),[e,r]),a}(Z,b.sel_municipality),B=function(e,r){var n=(0,c.useState)([]),a=n[0],o=n[1],t=(0,c.useState)(""),l=t[0],i=t[1];return(0,c.useEffect)((function(){if(i(""),e.length>0)try{var n=Object.values(p.re).reduce((function(n,a){return d({},n,u({},a.code,e[0][a.code].split(",").map((function(e){return"none"===e?"cropCalnocolor":"cropCal".concat(r[e].index)}))))}),{}),a=Object.values(p.re).reduce((function(n,a){return d({},n,u({},a.code,e[1][a.code].split(",").map((function(e){return"none"===e?"cropCalnocolor":"cropCal".concat(r[e].index)}))))}),{});o([n,a])}catch(t){i(t.message)}else o([])}),[e,r]),{stagesforviz:a,error:l}}(y,N),D=B.stagesforviz,U=B.error,H=(0,c.useState)(!0),V=H[0],Y=H[1],Q=(0,c.useCallback)((function(e){var r,n;if(null===T||void 0===T||null===(r=T.data1)||void 0===r||r.forEach((function(r,a){r.municipality===e&&r.crop===b.sel_crop&&(n={calendar:r,index:a})})),n){var a=n.calendar,o=T.data2[n.index];j([a,o])}else j([])}),[T,b.sel_crop]);return(0,c.useEffect)((function(){var e=function(){var e,r=(e=o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.$m)();case 3:r=e.sent,f(r.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var r=this,n=arguments;return new Promise((function(a,o){var t=e.apply(r,n);function c(e){q(t,a,o,c,l,"next",e)}function l(e){q(t,a,o,c,l,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){if(a.length>0){var e=(0,i.m)(a);S(e),h((function(r){return M({},r,{sel_province:e[0].label})}))}}),[a]),(0,c.useEffect)((function(){var e,r,n;P.length>0&&(null===(e=T.data1)||void 0===e?void 0:e.length)>0&&b.sel_province===(null!==(n=null===(r=T.data1[0])||void 0===r?void 0:r.province)&&void 0!==n?n:"")&&(Q(P[0].label),h((function(e){return M({},e,{sel_municipality:P[0].label})})))}),[P,T,Q,b.sel_province]),(0,c.useEffect)((function(){Y(I)}),[I]),(0,c.useEffect)((function(){if(""!==E||""!==U){var e=E||U;h((function(r){return M({},r,{error:e})}))}else h((function(e){return M({},e,{error:""})}))}),[E,U]),(0,t.jsxs)("div",{id:"bacap-cropping-calendar",children:[(0,t.jsx)(z.Z,{title:"Agro-Climatic Advisory Portal - Bicol (ACAP-BICOL) Cropping Calendar",ogDescription:r.description,ogImageURL:r.url,ogURL:r.path,canonicalURL:r.path}),(0,t.jsx)(l.Z,{variant:"h4",children:"Cropping Calendar v2"}),(0,t.jsx)(l.Z,{variant:"label",children:"Cropping Calendar page v2"}),(0,t.jsx)(F,{optsprovinces:k,optsmunicipalities:P,subcalendar:y,processedCalendar:D,cropList:O,cropStages:N,optscrops:R,sel_options:b,loading:V,onSelectItemChange:function(e,r){var n=r.label,a=r.from;if(""!==b.error&&h(M({},b,{error:""})),void 0!==n)switch(a){case"province":j([]),h(M({},G,{sel_province:n}));break;case"municipality":Q(n),h(M({},b,{sel_municipality:n}));break;case W.RICE:case W.PILI:case W.CORN:case W.AMPALAYA:case W.POLE_SITAW:case W.EGGPLANT:case W.WATERMELON:case W.SQUASH:case W.LOWLAND_VEGETABLES:case W.CASSAVA:case W.COCONUT:case W.PINEAPPLE:case W.ABACA:case W.CUT_FLOWERS:case W.LIVESTOCK:case W.POULTRY:case W.FISHERIES:j([]),h(M({},b,{sel_crop:a}))}else"province"===a?h(G):"municipality"===a&&h(M({},b,{sel_municipality:null,sel_crop:null}))}})]})}},38885:function(e,r,n){"use strict";n.d(r,{Z:function(){return i}});var a=n(34051),o=n.n(a),t=n(67294),c=n(32848);function l(e,r,n,a,o,t,c){try{var l=e[t](c),i=l.value}catch(s){return void n(s)}l.done?r(i):Promise.resolve(i).then(a,o)}function i(){var e=(0,t.useState)([]),r=e[0],n=e[1],a=(0,t.useState)(!1),i=a[0],s=a[1],p=(0,t.useState)(""),u=p[0],d=p[1];return(0,t.useEffect)((function(){var e=function(){var e,r=(e=o().mark((function e(){var r,a,t,l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,(0,c.TQ)();case 4:r=e.sent,n(null!==(a=null===r||void 0===r?void 0:r.list)&&void 0!==a?a:[]),s(!1),d(""),e.next=19;break;case 11:e.prev=11,e.t0=e.catch(0),i=null!==(l=null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.data)&&void 0!==l?l:e.t0.message,d(i),s(!1),n([]);case 19:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var r=this,n=arguments;return new Promise((function(a,o){var t=e.apply(r,n);function c(e){l(t,a,o,c,i,"next",e)}function i(e){l(t,a,o,c,i,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();e()}),[]),{cropList:r,loading:i,error:u}}},59390:function(e,r,n){"use strict";n.d(r,{Z:function(){return i}});var a=n(34051),o=n.n(a),t=n(67294),c=n(32848);function l(e,r,n,a,o,t,c){try{var l=e[t](c),i=l.value}catch(s){return void n(s)}l.done?r(i):Promise.resolve(i).then(a,o)}function i(e,r){var n=(0,t.useState)([]),a=n[0],i=n[1],s=(0,t.useState)([]),p=s[0],u=s[1],d=(0,t.useState)(!1),f=d[0],g=d[1],m=(0,t.useState)(""),x=m[0],C=m[1];return(0,t.useEffect)((function(){var n=function(){var n,a=(n=o().mark((function n(){var a,t,l,s,p,d,f;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g(!0),n.next=4,(0,c.ad)(e,r);case 4:return a=n.sent,i(null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:[]),n.next=9,(0,c.Fj)(r);case 9:l=n.sent,u(null!==(s=null===l||void 0===l?void 0:l.data)&&void 0!==s?s:[]),g(!1),C(""),n.next=24;break;case 16:n.prev=16,n.t0=n.catch(0),f=null!==(d=null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.data)&&void 0!==d?d:n.t0.message,C(f),g(!1),i([]);case 24:case"end":return n.stop()}}),n,null,[[0,16]])})),function(){var e=this,r=arguments;return new Promise((function(a,o){var t=n.apply(e,r);function c(e){l(t,a,o,c,i,"next",e)}function i(e){l(t,a,o,c,i,"throw",e)}c(void 0)}))});return function(){return a.apply(this,arguments)}}();e&&r&&(C(""),i([]),u([]),n())}),[e,r]),{cropcalendar:a,cropStages:p,loading:f,error:x}}},23766:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var a=n(67294);function o(e,r){var n=(0,a.useState)([]),o=n[0],t=n[1];return(0,a.useEffect)((function(){var n,a;t(e&&r&&null!==(a=null===(n=r.find((function(r){return r.label===e})))||void 0===n?void 0:n.municipalities)&&void 0!==a?a:[])}),[e,r]),o}},59111:function(e,r,n){"use strict";n.d(r,{m:function(){return a}});var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return e.map((function(e,n){return{id:n,label:e[r]}}))}}},function(e){e.O(0,[5778,3593,9964,8858,1903,6295,4987,9774,2888,179],(function(){return r=41938,e(e.s=r);var r}));var r=e.O();_N_E=r}]);